/* ============================================================
   DASHBOARD.CSS — Redesign premium
   ============================================================ */

.dashboard-grid {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

/* ============================================================
   CARDS DE RESUMO — glassmorphism com ícones modernos
   ============================================================ */
.summary-cards {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-4);
}

.summary-card {
  background: var(--color-bg-2);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: var(--space-5) var(--space-6);
  position: relative;
  overflow: hidden;
  transition: transform var(--transition-base), box-shadow var(--transition-base), border-color var(--transition-base);
  cursor: default;
}

/* Brilho de fundo ao hover */
.summary-card::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity var(--transition-base);
  border-radius: inherit;
}

.summary-card:hover { transform: translateY(-3px); }
.summary-card:hover::after { opacity: 1; }

.summary-card.card-balance:hover  { border-color: rgba(99,102,241,0.35); box-shadow: 0 8px 32px rgba(99,102,241,0.12); }
.summary-card.card-income:hover   { border-color: rgba(16,217,160,0.35); box-shadow: 0 8px 32px rgba(16,217,160,0.1); }
.summary-card.card-expense:hover  { border-color: rgba(244,63,94,0.35);  box-shadow: 0 8px 32px rgba(244,63,94,0.1); }
.summary-card.card-savings:hover  { border-color: rgba(167,139,250,0.35);box-shadow: 0 8px 32px rgba(167,139,250,0.1); }

/* Linha top decorativa */
.summary-card::before {
  content: '';
  position: absolute;
  top: 0; left: 20%; right: 20%;
  height: 1px;
  opacity: 0;
  transition: opacity var(--transition-base);
}

.summary-card:hover::before { opacity: 1; }
.summary-card.card-balance::before  { background: linear-gradient(90deg, transparent, #6366f1, transparent); }
.summary-card.card-income::before   { background: linear-gradient(90deg, transparent, #10d9a0, transparent); }
.summary-card.card-expense::before  { background: linear-gradient(90deg, transparent, #f43f5e, transparent); }
.summary-card.card-savings::before  { background: linear-gradient(90deg, transparent, #a78bfa, transparent); }

/* Topo do card: ícone + label */
.card-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-4);
}

.card-icon-box {
  width: 38px;
  height: 38px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.card-icon-box svg {
  width: 18px;
  height: 18px;
  stroke-width: 1.75;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
}

.card-balance  .card-icon-box { background: rgba(99,102,241,0.12); }
.card-income   .card-icon-box { background: rgba(16,217,160,0.12); }
.card-expense  .card-icon-box { background: rgba(244,63,94,0.12); }
.card-savings  .card-icon-box { background: rgba(167,139,250,0.12); }

.card-balance  .card-icon-box svg { stroke: var(--color-primary-light); }
.card-income   .card-icon-box svg { stroke: var(--color-success); }
.card-expense  .card-icon-box svg { stroke: var(--color-danger); }
.card-savings  .card-icon-box svg { stroke: var(--color-violet); }

/* Pill de tendência (%) */
.card-trend {
  font-size: 0.65rem;
  font-weight: 700;
  padding: 2px 7px;
  border-radius: var(--radius-full);
  font-family: var(--font-mono);
}

.trend-up   { background: var(--color-success-dim); color: var(--color-success); }
.trend-down { background: var(--color-danger-dim);  color: var(--color-danger); }
.trend-neutral { background: var(--color-bg-4); color: var(--text-muted); }

.card-label {
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-secondary);
  letter-spacing: 0.2px;
  margin-bottom: var(--space-1);
}

.card-value {
  font-family: var(--font-mono);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--text-primary);
  line-height: 1.15;
  letter-spacing: -0.5px;
}

.card-value.positive { color: var(--color-success); }
.card-value.negative { color: var(--color-danger); }
.card-value.violet   { color: var(--color-violet); }

/* ============================================================
   GRÁFICOS — layout e containers
   ============================================================ */
.charts-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-5);
}

.chart-card {
  background: var(--color-bg-2);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  overflow: hidden;
}

/* Cabeçalho do chart-card */
.chart-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-5);
}

.chart-title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.chart-title-icon {
  width: 28px;
  height: 28px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-3);
}

.chart-title-icon svg {
  width: 14px;
  height: 14px;
  stroke: var(--color-primary-light);
  fill: none;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.chart-subtitle {
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin-top: 1px;
}

.chart-canvas { width: 100% !important; display: block; }

/* Pizza */
.pie-wrapper {
  display: flex;
  gap: var(--space-5);
  align-items: center;
}

.pie-canvas-wrap { flex-shrink: 0; }

.pie-legend {
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;
  overflow-y: auto;
  max-height: 200px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
  color: var(--text-secondary);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.legend-item:hover { background: var(--color-bg-3); color: var(--text-primary); }
.legend-item.dimmed { opacity: 0.3; }

.legend-dot {
  width: 8px;
  height: 8px;
  border-radius: 3px;
  flex-shrink: 0;
}

.legend-name  { flex: 1; font-weight: 500; }
.legend-value { font-family: var(--font-mono); font-size: 0.68rem; color: var(--text-muted); }

/* Linha inteira */
.chart-full { grid-column: 1 / -1; }

/* ============================================================
   ÚLTIMAS TRANSAÇÕES
   ============================================================ */
.bottom-section { display: grid; grid-template-columns: 1fr; }

.recent-transactions {
  background: var(--color-bg-2);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  overflow: hidden;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid var(--color-border);
}

.section-title {
  font-family: var(--font-display);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.section-title svg {
  width: 16px; height: 16px;
  stroke: var(--color-primary-light);
  fill: none; stroke-width: 2;
  stroke-linecap: round; stroke-linejoin: round;
}

.section-link {
  font-size: var(--text-xs);
  color: var(--color-primary-light);
  text-decoration: none;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: gap var(--transition-fast);
}
.section-link:hover { gap: 8px; }

.tx-list { list-style: none; }

.tx-item {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4) var(--space-6);
  border-bottom: 1px solid var(--color-border);
  transition: background var(--transition-fast);
}
.tx-item:last-child { border-bottom: none; }
.tx-item:hover { background: var(--color-bg-3); }

/* Ícone de categoria — quadrado com cor */
.tx-icon {
  width: 38px;
  height: 38px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  flex-shrink: 0;
  background: var(--color-bg-3);
  border: 1px solid var(--color-border);
}

.tx-info { flex: 1; min-width: 0; }

.tx-desc {
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.4;
}

.tx-cat {
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin-top: 1px;
}

.tx-date {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-family: var(--font-mono);
  white-space: nowrap;
}

.tx-amount {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  font-weight: 600;
  text-align: right;
  white-space: nowrap;
}

/* ============================================================
   RESPONSIVIDADE
   ============================================================ */
@media (max-width: 1100px) {
  .summary-cards { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) {
  .summary-cards  { grid-template-columns: 1fr 1fr; }
  .charts-section { grid-template-columns: 1fr; }
  .chart-full     { grid-column: 1; }
  .pie-wrapper    { flex-direction: column; align-items: center; }
  .card-value     { font-size: var(--text-xl); }
}

@media (max-width: 480px) {
  .summary-cards { grid-template-columns: 1fr; }
}
